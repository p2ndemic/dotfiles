https://thesofproject.github.io/latest/getting_started/intel_debug/introduction.html
https://wiki.archlinux.org/title/Kernel_module

Ох и намучался я с этой ошибкой :( Столько времени ушло на поиски и примерного решения этой проблемы. Есть примерный вариант исправления, но я еще не проверял его в деле.

В общем, после замены ненавистного ChromeOS на прошивку от любезного Mr. Chromebox и установки дистрибутива на базе Arch Linux, я столкнулся со следующей проблемой.
После загрузки системы не работает звук. При нажатии на значок громкости в KDE, система сообщает что 'Не найдено устройств ввода или вывода звука'.

Первое что нужно сделать, это проверить логи ошибки ядра через 'journalctl':

команда: sudo journalctl -b -p 3 | sort | uniq

[admin@admin-osiris ~]$ sudo journalctl -b -p 3 | sort | uniq
апр 28 21:05:22 admin-osiris kernel: Bluetooth: hci0: No support for _PRR ACPI method
апр 28 21:05:27 admin-osiris kernel:  Bluetooth: ASoC: error at dpcm_fe_dai_hw_params on Bluetooth: -22
апр 28 21:05:27 admin-osiris kernel:  Bluetooth: ASoC: error at __soc_pcm_hw_params on Bluetooth: -22
апр 28 21:05:27 admin-osiris kernel:  DMIC16kHz: ASoC: error at dpcm_fe_dai_hw_params on DMIC16kHz: -22
апр 28 21:05:27 admin-osiris kernel:  DMIC16kHz: ASoC: error at __soc_pcm_hw_params on DMIC16kHz: -22
апр 28 21:05:27 admin-osiris kernel:  HDMI2: ASoC: error at dpcm_fe_dai_hw_params on HDMI2: -5
апр 28 21:05:27 admin-osiris kernel:  HDMI2: ASoC: error at __soc_pcm_hw_params on HDMI2: -5
апр 28 21:05:27 admin-osiris kernel:  HDMI3: ASoC: error at dpcm_fe_dai_hw_params on HDMI3: -5
апр 28 21:05:27 admin-osiris kernel:  HDMI3: ASoC: error at __soc_pcm_hw_params on HDMI3: -5
апр 28 21:05:27 admin-osiris kernel:  HDMI4: ASoC: error at dpcm_fe_dai_hw_params on HDMI4: -5
апр 28 21:05:27 admin-osiris kernel:  HDMI4: ASoC: error at __soc_pcm_hw_params on HDMI4: -5
апр 28 21:05:27 admin-osiris kernel: sof-audio-pci-intel-tgl 0000:00:1f.3: ASoC: error at snd_soc_pcm_component_hw_params on 0000:00:1f.3: -22
апр 28 21:05:27 admin-osiris kernel: sof-audio-pci-intel-tgl 0000:00:1f.3: ASoC: error at snd_soc_pcm_component_hw_params on 0000:00:1f.3: -5
апр 28 21:05:27 admin-osiris kernel: sof-audio-pci-intel-tgl 0000:00:1f.3: HW params ipc failed for stream 1
апр 28 21:05:27 admin-osiris kernel: sof-audio-pci-intel-tgl 0000:00:1f.3: ipc tx error for 0x60010000 (msg/reply size: 108/20): -22
апр 28 21:05:27 admin-osiris kernel: sof-audio-pci-intel-tgl 0000:00:1f.3: ipc tx error for 0x60010000 (msg/reply size: 108/20): -5


Тут мы видим множество ошибок связанных с sof-audio-pci-intel-tgl. Это и есть причина проблемы. Теперь нужно искать rootcause ...

Первое что нужно сделать - определить технические характеристики текущего устройства. Тут помогут CLI утилиты 'inxi' и  'pactl', а также 'wpctl' (опционально).

Примеры использования inxi:
  'inxi -Fxz' - вывести всю необходимую информацию о системе/устройстве
  'inxi -Aa' - вывести информацию о аудиоустройстве/аудиокодеках

Пример использования pactl:
  'pactl list cards' - вывести полную информацию о аудиокарте

###
Запустим эти две утилиты и проверим информацию:

```
[admin@admin-osiris ~]$ inxi -aA
Audio:
  Device-1: Intel Alder Lake PCH-P High Definition Audio
    driver: sof-audio-pci-intel-tgl alternate: snd_hda_intel, snd_soc_avs,
    snd_sof_pci_intel_tgl bus-ID: 00:1f.3 chip-ID: 8086:51c8 class-ID: 0401
  API: ALSA v: k6.14.4-arch1-1 status: kernel-api
    tools: alsactl,alsamixer,amixer
  Server-1: PipeWire v: 1.4.2 status: active with: 1: pipewire-pulse
    status: active 2: wireplumber status: active 3: pipewire-alsa type: plugin
    4: pw-jack type: plugin tools: pactl,pw-cat,pw-cli,wpctl
[admin@admin-osiris ~]$ pactl list cards
Card #42
	Name: alsa_card.pci-0000_00_1f.3-platform-adl_nau8825_def
	Driver: alsa
	Owner Module: n/a
	Properties:
		api.acp.auto-port = "false"
		api.acp.auto-profile = "false"
		api.alsa.card = "0"
		api.alsa.card.longname = "Google-Osiris-rev3"
		api.alsa.card.name = "sof-nau8825"
		api.alsa.path = "hw:0"
		api.alsa.split-enable = "true"
		api.alsa.use-acp = "true"
		api.dbus.ReserveDevice1 = "Audio0"
		api.dbus.ReserveDevice1.Priority = "-20"
		device.api = "alsa"
		device.bus = "pci"
		device.bus_path = "pci-0000:00:1f.3-platform-adl_nau8825_def"
		device.description = "Alder Lake PCH-P High Definition Audio Controller"
		device.enum.api = "udev"
		device.icon_name = "audio-card-analog-pci"
		device.name = "alsa_card.pci-0000_00_1f.3-platform-adl_nau8825_def"
		device.nick = "sof-nau8825"
		device.plugged.usec = "4233721"
		device.product.id = "0x51c8"
		device.product.name = "Alder Lake PCH-P High Definition Audio Controller"
		device.subsystem = "sound"
		sysfs.path = "/devices/pci0000:00/0000:00:1f.3/adl_nau8825_def/sound/card0"
		device.vendor.id = "0x8086"
		device.vendor.name = "Intel Corporation"
		media.class = "Audio/Device"
		spa.object.id = "2"
		factory.id = "15"
		client.id = "41"
		object.id = "42"
		object.serial = "42"
		object.path = "alsa:acp:sofnau8825"
		alsa.card = "0"
		alsa.card_name = "sof-nau8825"
		alsa.long_card_name = "Google-Osiris-rev3"
		alsa.driver_name = "snd_soc_sof_nau8825"
		alsa.mixer_name = "Intel Alderlake-P HDMI"
		alsa.components = "HDA:8086281c,80860101,00100000"
		alsa.id = "sofnau8825"
		device.string = "0"
	Profiles:
		off: Выключено (sinks: 0, sources: 0, priority: 0, available: yes)
		output:stereo-fallback: Стерео выход (sinks: 1, sources: 0, priority: 5100, available: no)
		pro-audio: Pro Audio (sinks: 7, sources: 5, priority: 1, available: yes)
	Active Profile: off
	Ports:
		analog-output-headphones: Наушники (type: Headphones, priority: 9900, latency offset: 0 usec, availability group: Legacy 1, not available)
			Properties:
				port.type = "headphones"
				port.availability-group = "Legacy 1"
				device.icon_name = "audio-headphones"
				card.profile.port = "0"
			Part of profile(s): output:stereo-fallback
[admin@admin-osiris ~]$
```

Тут мы видим следующую инфомацию:
1.  Device-1: Intel Alder Lake PCH-P High Definition Audio
    driver: sof-audio-pci-intel-tgl alternate: snd_hda_intel, snd_soc_avs
2. device.product.name = "Alder Lake PCH-P High Definition Audio Controller
   alsa.driver_name = "snd_soc_sof_nau8825"
   sysfs.path = "/devices/pci0000:00/0000:00:1f.3/adl_nau8825_def/sound/card0"
Ок, с этими данными будем работать

