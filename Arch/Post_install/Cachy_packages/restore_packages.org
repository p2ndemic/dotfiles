# Сохранение списка установленных пакетов
#pacman -Qenq > user_pkglist_repo.txt

-Q: Эта опция указывает Pacman на выполнение запроса (query).
-e: Эта опция в запросе означает "explicitly installed". Она выводит список только тех пакетов, которые были установлены пользователем вручную, а не как зависимости других пакетов.
-n: Эта опция в запросе означает "native". Она фильтрует список, показывая только те пакеты, которые установлены из репозиториев, а не были собраны и установлены локально.
-q: Эта опция в запросе означает "quiet". Она заставляет Pacman выводить только имена пакетов, без дополнительной информации о версии и статусе.
>: Это оператор перенаправления вывода в командной строке. Он берет стандартный вывод предыдущей команды (pacman -Qenq) и перенаправляет его в указанный файл.

#pacman -Qemq > pkglist_aur.txt
(Все опции выше) +
-m: Запрашивает только "foreign" пакеты. Это пакеты, которые не принадлежат ни одному из настроенных репозиториев. Обычно это пакеты, установленные вручную из локальных файлов (.tar.zst) или из AUR (Arch User Repository) с помощью таких помощников, как yay или paru.

# Способ через pacman -Q:
# pacman -Qnq > pkglist_repo_all.txt
или
# pacman -Q | cut -d' ' -f1 | sort | uniq > pkglist_repo_all.txt


# Устанавливаем недостающие пакеты
# sudo pacman -S --needed - < pkglist_repo.txt
sudo: Необходим для установки пакетов, так как это действие требует прав администратора.
pacman -S: Команда для установки (sync) пакетов.
       --needed: Эта опция указывает pacman устанавливать только те пакеты, которые еще не установлены в системе. Если пакет из списка уже установлен, pacman пропустит его.
       - < pkglist_repo.txt: Перенаправляет содержимое файла pkglist_repo.txt в стандартный ввод команды pacman -S.
